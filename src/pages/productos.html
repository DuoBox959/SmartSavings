<!DOCTYPE html>
<html lang="es">
  <head>
    <!-- ‚úÖ Configuraci√≥n b√°sica del documento -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Gesti√≥n de Productos</title>

    <!-- ‚úÖ Vinculaci√≥n de archivos CSS -->
    <link rel="stylesheet" href="../style/global/header.css" />
    <!-- Estilos del encabezado -->
    <link rel="stylesheet" href="../style/producto.css" />
    <!-- Estilos espec√≠ficos de la p√°gina -->
    <link rel="stylesheet" href="../style/global/footer.css" />
    <!-- Estilos del pie de p√°gina -->
    <!-- Font Awesome CDN -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />

    <!-- ‚úÖ Librer√≠as y scripts necesarios -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- jQuery (manipulaci√≥n del DOM) -->
    <script type="module" src="../functions/productos.js" defer></script>
    <!-- Funciones de gesti√≥n de productos -->
    <!-- <script src="../valid/validaciones.js"></script> -->
    <!-- Validaciones personalizadas -->

    <!-- ‚úÖ Librer√≠a SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  </head>
  <body>
    <!-- üß© Header din√°mico (cargado desde JS) -->
    <div id="header"></div>
    <nav class="nav-categorias">
      
      <ul>
        <li>
          <a href="#alimentacion">
            <i class="fas fa-utensils"></i>
            <span>Alimentaci√≥n</span>
          </a>
        </li>
        <li>
          <a href="#drogueria">
            <i class="fas fa-briefcase-medical"></i>
            <span>Droguer√≠a y salud</span>
          </a>
        </li>
        <li>
          <a href="#mascotas">
            <i class="fas fa-dog"></i>
            <span>Mascotas</span>
          </a>
        </li>
      </ul>
    </nav>
    <button class="btn-agregar" onclick="mostrarFormularioAgregar()">Agregar Producto</button>

    <!-- üìå Contenedor principal -->
    <div class="productos-container" id="productos-container">
      <!-- üîπ Aqu√≠ se insertar√°n din√°micamente las tarjetas de productos -->
    </div>

    <!-- üîô Bot√≥n para regresar atr√°s -->
    <button class="back-button" onclick="volverAtras()">Volver Atr√°s</button>

    <!-- üìù Modal para editar producto -->
<div id="modal-editar" class="modal">
  <div class="modal-content">
    <span class="close" onclick="cerrarFormulario()">&times;</span>
    <h2>Editar Producto</h2>
    <form id="form-editar-producto">
      <!-- üîπ OBLIGATORIOS -->
      <label>Nombre del producto: <span style="color: red">*</span></label>
      <input type="text" id="edit-nombre" required />

      <label>Tipo del producto: <span style="color: red">*</span></label>
      <input type="text" id="edit-tipo" required />

      <label>Precio actual (‚Ç¨): <span style="color: red">*</span></label>
      <input type="number" id="edit-precio" step="0.01" required />

      <label>Peso: <span style="color: red">*</span></label>
      <input type="number" id="edit-peso" step="0.01" required />

      <label>Unidad de Peso: <span style="color: red">*</span></label>
      <select id="edit-unidadPeso" required>
        <option value="kg">Kilogramos (kg)</option>
        <option value="g">Gramos (g)</option>
        <option value="l">Litros (l)</option>
        <option value="ml">Mililitros (ml)</option>
      </select>

      <label>Supermercado: <span style="color: red">*</span></label>
      <input type="text" id="edit-supermercado" required />

      <label>Estado: <span style="color: red">*</span></label>
      <select id="edit-estado" required>
        <option value="En stock">En stock</option>
        <option value="Sin stock">Sin stock</option>
      </select>

      <!-- üîí Ocultos -->
      <input type="hidden" id="edit-producto-id" />
      <input type="hidden" id="edit-fecha-subida" />
      <input type="hidden" id="edit-usuario" />
      <input type="hidden" id="edit-fecha-actualizacion" />

      <!-- üîΩ CAMPOS OPCIONALES -->
      <details>
        <summary>Ver m√°s campos para tu producto</summary>

        <label>Imagen del producto:</label>
        <input type="file" id="add-imagen" name="Imagen" />

        <label>Marca:</label>
        <input type="text" id="edit-marca" />
        
        <label>Ubicaci√≥n exacta del supermercado:</label>
        <input type="text" id="edit-ubicacion-super" />

        <label>Pa√≠s del supermercado:</label>
        <input type="text" id="edit-pais-super" />

        <label>Nombre del proveedor:</label>
        <input type="text" id="edit-proveedor" />

        <label>Pa√≠s del proveedor:</label>
        <input type="text" id="edit-pais-proveedor" />

        <label>Subtipo del producto:</label>
        <input type="text" id="edit-subtipo" />

        <label>Precio descuento (‚Ç¨):</label>
        <input type="number" id="edit-precioDescuento" step="0.01" />

        <label>Unidad/Lote:</label>
        <input type="number" id="edit-unidadLote" />

        <label>Precio por unidad/lote (‚Ç¨):</label>
        <input type="number" id="edit-precioPorUnidad" step="0.01" />

        <label>Precio Hist√≥rico (Precio, A√±o):</label>
        <textarea
          id="edit-precioHistorico"
          rows="3"
          placeholder="Ejemplo: 10, 2023, 12, 2024"
        ></textarea>
      </details>

      <!-- ‚úÖ Guardar -->
      <button type="button" onclick="guardarCambiosDesdeFormulario()">
        Guardar Cambios
      </button>
    </form>
  </div>
</div>

<!-- üìù Modal para agregar producto -->
<div id="modal-agregar" class="modal">
  <div class="modal-content">
    <span class="close" onclick="cerrarFormularioAgregar()">&times;</span>
    <h2>Agregar Producto</h2>
    <form id="form-editar-producto"> <!-- Reutilizamos dise√±o -->
      <label>Nombre del producto: <span style="color: red">*</span></label>
      <input type="text" id="add-nombre" required />

      <label>Tipo del producto: <span style="color: red">*</span></label>
      <input type="text" id="add-tipo" required />

      <label>Precio actual (‚Ç¨): <span style="color: red">*</span></label>
      <input type="number" id="add-precio" step="0.01" required />

      <label>Peso: <span style="color: red">*</span></label>
      <input type="number" id="add-peso" step="0.01" required />

      <label>Unidad de Peso: <span style="color: red">*</span></label>
      <select id="add-unidadPeso" required>
        <option value="kg">Kilogramos (kg)</option>
        <option value="g">Gramos (g)</option>
        <option value="l">Litros (l)</option>
        <option value="ml">Mililitros (ml)</option>
      </select>

      <label>Supermercado: <span style="color: red">*</span></label>
      <input type="text" id="add-supermercado" required />

      <label>Estado: <span style="color: red">*</span></label>
      <select id="add-estado" required>
        <option value="En stock">En stock</option>
        <option value="Sin stock">Sin stock</option>
      </select>

      <details>
        <summary>Ver m√°s campos para tu producto</summary>
        <label>Imagen del producto:</label>
        <input type="file" id="add-imagen" name="Imagen" />

        <label>Marca:</label>
        <input type="text" id="add-marca" />
        
        <label>Ubicaci√≥n exacta del supermercado:</label>
        <input type="text" id="add-ubicacion-super" />

        <label>Pa√≠s del supermercado:</label>
        <input type="text" id="add-pais-super" />

        <label>Nombre del proveedor:</label>
        <input type="text" id="add-proveedor" />

        <label>Pa√≠s del proveedor:</label>
        <input type="text" id="add-pais-proveedor" />

        <label>Subtipo del producto:</label>
        <input type="text" id="add-subtipo" />

        <label>Precio descuento (‚Ç¨):</label>
        <input type="number" id="add-precioDescuento" step="0.01" />

        <label>Unidad/Lote:</label>
        <input type="number" id="add-unidadLote" />

        <label>Precio por unidad/lote (‚Ç¨):</label>
        <input type="number" id="add-precioPorUnidad" step="0.01" />

        <label>Precio Hist√≥rico (Precio, A√±o):</label>
        <textarea id="add-precioHistorico" rows="3" placeholder="Ejemplo: 10, 2023, 12, 2024"></textarea>
      </details>

      <button type="button" onclick="guardarProductoNuevo()">Agregar Producto</button>
    </form>
  </div>
</div>



    <!-- üß© Footer din√°mico (cargado desde JS) -->
    <div id="footer"></div>
  </body>
</html>
