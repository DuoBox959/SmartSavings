<!DOCTYPE html>
<html lang="es">
  <head>
    <!-- ‚úÖ A. Configuraci√≥n del Documento -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Gesti√≥n de Productos</title>

    <!-- ‚úÖ B. Vinculaci√≥n de Archivos CSS -->
    <link rel="stylesheet" href="../css/producto.css" />

    <!-- ‚úÖ C. Librer√≠as y Scripts Necesarios -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- jQuery -->
    <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
    <!-- DataTables -->
    <!-- <script src="../../libs/pouchdb-9.0.0.min.js"></script> -->
    <!-- PouchDB -->
    <script src="../../valid/validaciones.js"></script>
    <!-- Validaciones -->
    <script type="module" src="../js/productos.js"></script>
    <!-- L√≥gica de productos -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- SweetAlert2 -->
  </head>

  <body>
    <!-- üè∑Ô∏è D. Aviso Importante -->
    <div id="aviso" class="aviso-importante">
      <strong>Aviso:</strong> La base de datos es p√∫blica y los datos pueden
      estar desactualizados o no ser exactos.
    </div>

    <!-- üè∑Ô∏è E. Encabezado y Bot√≥n Agregar -->
    <h1>Gesti√≥n de Productos</h1>
    <button onclick="mostrarFormularioAgregar()">Agregar Producto</button>

    <!-- üìä F. Tabla Din√°mica de Productos -->
    <div class="tabla-contenedor">
      <table id="productosTable" class="display">
        <thead>
          <tr>
            <th>ID</th>
            <th>Imagen</th>
            <th>Nombre</th>
            <th>Marca</th>
            <th>Peso</th>
            <th>Proveedor_id</th>
            <th>Supermercado_id</th>
            <th>Usuario_id</th>
            <th>Estado</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody id="productosBody"></tbody>
      </table>
    </div>

    <!-- üìã G. Formulario para Agregar o Editar Productos -->
    <div id="formularioProducto" class="formulario" style="display: none">
      <h2 id="formTitulo">Agregar Producto</h2>

      <!-- üîπ Campo: ID oculto (para edici√≥n) -->
      <input type="hidden" id="productoID" />

       <!-- üîπ Campo: Imagen del Producto -->
       <label for="imgProducto">Imagen del Producto:</label>
       <input type="file" id="imgProducto" accept="image/*" />

      <!-- üîπ Campo: Nombre del Producto -->
      <label for="nombreProducto">Nombre del Producto:</label>
      <input type="text" id="nombreProducto" />

      <!-- üîπ Campo: Marca -->
      <label for="marcaProducto">Marca:</label>
      <input type="text" id="marcaProducto" />

      <!-- üîπ Campo: Peso -->
      <label for="pesoProducto">Peso:</label>
      <input type="number" id="pesoProducto" step="0.01" min="0" />

      <!-- üîπ Campo: Unidad de Peso -->
      <label for="unidadPeso">Unidad de Peso:</label>
      <select id="unidadPeso">
        <option value="KG">Kilogramos (KG)</option>
        <option value="G">Gramos (G)</option>
        <option value="L">Litros (L)</option>
      </select>

      <!-- üîπ Campo: Proveedor ID -->
      <label for="idProveedor">Proveedor ID:</label>
      <input type="text" id="idProveedor" />

      <!-- üîπ Campo: Supermercado ID -->
      <label for="idSupermercado">Supermercado ID:</label>
      <input type="text" id="idSupermercado" />

      <!-- üîπ Campo: Usuario ID -->
      <label for="idUsuario">Usuario ID:</label>
      <input type="text" id="idUsuario" />

      <!-- üîπ Campo: Estado del Producto -->
      <label for="Estado">Estado:</label>
      <select id="Estado">
        <option value="En Stock">En stock</option>
        <option value="Sin stock">Sin Stock</option>
      </select>
      <br>

      <!-- üîò Botones del formulario -->
      <div id="botonesFormulario">
        <button>Guardar</button>
        <button onclick="cerrarFormulario()">Cancelar</button>
      </div>
    </div>
    </div>

    <!-- üîô I. Bot√≥n para regresar atr√°s -->
    <button class="back-button" onclick="volverAtras()">Volver Atr√°s</button>
  </body>
</html>
