<!DOCTYPE html>
<html lang="es">
  <head>
    <!-- ‚úÖ A. Configuraci√≥n del Documento -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Gesti√≥n de Productos</title>

    <!-- ‚úÖ B. Vinculaci√≥n de Archivos CSS -->
    <link rel="stylesheet" href="../css/producto.css" />

    <!-- ‚úÖ C. Librer√≠as y Scripts Necesarios -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- jQuery -->
    <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
    <!-- DataTables -->
    <!-- <script src="../../libs/pouchdb-9.0.0.min.js"></script> -->
    <!-- PouchDB -->
    <script src="../../valid/validaciones.js"></script>
    <!-- Validaciones -->
    <script type="module" src="../js/productos.js"></script>
    <!-- L√≥gica de productos -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- SweetAlert2 -->
  </head>

  <body>
    <!-- üè∑Ô∏è D. Aviso Importante -->
    <div id="aviso" class="aviso-importante">
      <strong>Aviso:</strong> La base de datos es p√∫blica y los datos pueden
      estar desactualizados o no ser exactos.
    </div>

    <!-- üè∑Ô∏è E. Encabezado y Bot√≥n Agregar -->
    <h1>Gesti√≥n de Productos</h1>
    <button onclick="mostrarFormularioAgregar()">Agregar Producto</button>

    <!-- üìä F. Tabla Din√°mica de Productos -->
    <div class="tabla-contenedor">
      <table id="productosTable" class="display">
        <thead>
          <tr>
            <th>ID</th>
            <th>Imagen</th>
            <th>Nombre</th>
            <th>Marca</th>
            <th>Proveedor_id</th>
            <th>Supermercado_id</th>
            <th>Usuario_id</th>
            <th>Estado</th>
            <th>Peso</th>
            <th>UnidadPeso</th>
          </tr>
        </thead>
        <tbody id="productosBody"></tbody>
      </table>
    </div>

    <!-- üìã G. Formulario para Agregar o Editar Productos -->
    <div id="formularioProducto" class="formulario" style="display: none">
      <h2 id="formTitulo">Agregar Producto</h2>

      <!-- üîπ Campo: ID oculto (para edici√≥n) -->
      <input type="hidden" id="productoID" />

      <!-- üîπ Campo: Nombre del Producto -->
      <label for="nombreProducto">Nombre del Producto:</label>
      <input type="text" id="nombreProducto" />

      <!-- üîπ Campo: Marca -->
      <label for="marcaProducto">Marca:</label>
      <input type="text" id="marcaProducto" />

      <!-- üîπ Campo: Precio por Unidad -->
      <label for="precioUnidad">Precio Unidad:</label>
      <input type="number" id="precioUnidad" step="0.01" min="0" />

      <!-- üîπ Campo: Precio por Lote -->
      <label for="precioLote">Precio Lote:</label>
      <input type="number" id="precioLote" step="0.01" min="0" />

      <!-- üîπ Campo: Peso -->
      <label for="pesoProducto">Peso:</label>
      <input type="number" id="pesoProducto" step="0.01" min="0" />

      <!-- üîπ Campo: Unidad de Peso -->
      <label for="unidadPeso">Unidad de Peso:</label>
      <select id="unidadPeso">
        <option value="kg">Kilogramos (kg)</option>
        <option value="g">Gramos (g)</option>
        <option value="l">Litros (l)</option>
      </select>

      <!-- üîπ Campo: Supermercado -->
      <label for="nombreSupermercado">Supermercado:</label>
      <input type="text" id="nombreSupermercado" />

      <!-- üîπ Campo: Ubicaci√≥n del Supermercado -->
      <label for="ubicacionSupermercado">Ubicaci√≥n:</label>
      <input type="text" id="ubicacionSupermercado" />

      <!-- üîπ Campo: Biograf√≠a del Producto -->
      <label for="biografiaProducto">Biograf√≠a del Producto:</label>
      <textarea id="biografiaProducto" rows="3"></textarea>
      <br>

      <!-- üîπ Campo: Imagen del Producto -->
      <label for="imgProducto">Imagen del Producto:</label>
      <input type="file" id="imgProducto" accept="image/*" />

      <!-- üîπ Campo: Descripci√≥n -->
      <label for="descripcionProducto">Descripci√≥n:</label>
      <textarea id="descripcionProducto" rows="3"></textarea>

      <!-- üîò Botones del formulario -->
      <div id="botonesFormulario">
        <button onclick="guardarCambiosDesdeFormulario()">Guardar</button>
        <button onclick="cerrarFormulario()">Cancelar</button>
      </div>
    </div>

    <!-- üìñ H. Secci√≥n para la Biograf√≠a Manual del Producto -->
    <div id="formularioBiografia" style="display: none">
      <h3>Agregar Biograf√≠a del Producto</h3>

      <!-- üîπ Campo: A√±o -->
      <label for="anioBiografia">A√±o:</label>
      <input type="number" id="anioBiografia" min="1900" max="2100" />

      <!-- üîπ Campo: Mes -->
      <label for="mesBiografia">Mes:</label>
      <select id="mesBiografia">
        <option value="Enero">Enero</option>
        <option value="Febrero">Febrero</option>
        <option value="Marzo">Marzo</option>
        <option value="Abril">Abril</option>
        <option value="Mayo">Mayo</option>
        <option value="Junio">Junio</option>
        <option value="Julio">Julio</option>
        <option value="Agosto">Agosto</option>
        <option value="Septiembre">Septiembre</option>
        <option value="Octubre">Octubre</option>
        <option value="Noviembre">Noviembre</option>
        <option value="Diciembre">Diciembre</option>
      </select>

      <!-- üîπ Campo: Precio Unidad -->
      <label for="precioBiografia">Precio Unidad:</label>
      <input type="number" id="precioBiografia" step="0.01" />

      <!-- üîπ Campo: Peso -->
      <label for="pesoBiografia">Peso:</label>
      <input type="number" id="pesoBiografia" step="0.01" />

      <button onclick="agregarBiografiaProducto()">A√±adir al Historial</button>
    </div>

    <!-- üîô I. Bot√≥n para regresar atr√°s -->
    <button class="back-button" onclick="volverAtras()">Volver Atr√°s</button>
  </body>
</html>
