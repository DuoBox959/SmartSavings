<!DOCTYPE html>
<html lang="es">
  <head>
    <!-- üÖ∞Ô∏è Configuraci√≥n del Documento -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gesti√≥n de Productos</title>

    <!-- üÖ±Ô∏è Vinculaci√≥n de Archivos CSS -->
    <link rel="stylesheet" href="../css/global/sidebar.css" />
    <!-- Sidebar CSS -->
    <link rel="stylesheet" href="../css/producto.css" />

    <!-- üÖ≤ Librer√≠as y Scripts Necesarios -->
    <script type="module" src="../js/global/sidebar.js" defer></script>
    <!-- Sidebar JS -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- jQuery -->
    <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
    <!-- DataTables -->
    <script src="../../valid/validaciones.js"></script>
    <!-- Validaciones -->
    <script type="module" src="../js/productos.js"></script>
    <!-- L√≥gica de productos -->
    <script src="../js/global/auth.js"></script>
    <!--Comprobacion de autenticacion-->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- SweetAlert2 -->

    <!-- üÖ≥ Librer√≠as de Iconos -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    />
  </head>

  <body>
    <!-- üÖ¥ Cargar Sidebar de forma din√°mica -->
    <div id="sidebar-container"></div>

    <!-- üÖ∂ Encabezado y Bot√≥n Agregar -->
    <h1>Gesti√≥n de Productos</h1>
    <button onclick="mostrarFormularioAgregar()">Agregar Producto</button>

    <!-- üÖ∑ Tabla Din√°mica de Productos -->
    <div class="tabla-contenedor">
      <table id="productosTable" class="display">
        <thead>
          <tr>
            <th>ID</th>
            <th>Imagen</th>
            <th>Nombre</th>
            <th>Marca</th>
            <th>Peso</th>
            <th>Proveedor</th>
            <th>Supermercado</th>
            <th>Usuario</th>
            <th>Estado</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody id="productosBody"></tbody>
      </table>
    </div>

    <!-- üÖ∏ Formulario para Agregar o Editar Productos -->
    <div id="formularioProducto" class="formulario" style="display: none">
      <h2 id="formTitulo">Agregar Producto</h2>

      <!-- üîπ Campo: ID oculto (para edici√≥n) -->
      <input type="hidden" id="productoID" />

      <!-- üîπ Campo: Imagen del Producto -->
      <label for="imgProducto">Imagen del Producto:</label>
      <input type="file" id="imgProducto" accept="image/*" />
      <!-- ‚úÖ Vista previa de la imagen -->
      <img
        id="vistaPreviaImagen"
        src=""
        alt="Vista previa"
        width="100"
        style="display: none; margin-top: 10px"
      />

      <!-- üîπ Campo: Nombre del Producto -->
      <label for="nombreProducto">Nombre del Producto:</label>
      <input type="text" id="nombreProducto" />

      <!-- üîπ Campo: Marca -->
      <label for="marcaProducto">Marca:</label>
      <input type="text" id="marcaProducto" />

      <!-- üîπ Campo: Peso -->
      <label for="pesoProducto">Peso:</label>
      <input type="number" id="pesoProducto" step="0.01" min="0" />

      <!-- üîπ Campo: Unidad de Peso -->
      <label for="unidadPeso">Unidad de Peso:</label>
      <select id="unidadPeso">
        <option value="KG">Kilogramos (KG)</option>
        <option value="G">Gramos (G)</option>
        <option value="L">Litros (L)</option>
      </select>

      <!-- üîπ Campo: Proveedor -->
      <label for="idProveedor">Proveedor:</label>
      <select id="idProveedor"></select>

      <!-- üîπ Campo: Supermercado -->
      <label for="idSupermercado">Supermercado:</label>
      <select id="idSupermercado"></select>

      <!-- üîπ Campo: Usuario -->
      <label for="idUsuario">Usuario:</label>
      <select id="idUsuario"></select>

      <!-- üîπ Campo: Estado del Producto -->
      <label for="Estado">Estado:</label>
      <select id="Estado">
        <option value="En Stock">En stock</option>
        <option value="Sin stock">Sin Stock</option>
      </select>
      <br />

      <!-- üÖπ Botones del Formulario -->
      <div id="botonesFormulario">
        <button>Guardar</button>
        <button onclick="cerrarFormulario()">Cancelar</button>
      </div>
    </div>
  </body>
</html>
